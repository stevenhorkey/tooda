(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,a){e.exports=a(271)},123:function(e,t,a){},124:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},270:function(e,t,a){},271:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(22),l=a.n(o),r=(a(123),a(4)),i=a(5),c=a(7),m=a(6),u=a(8),d=a(52),p=a(26),h=(a(124),a(11)),g=a.n(h),f="/api/",v={getListItems:function(e,t){return g.a.get(f+"getListItems/".concat(e,"/").concat(t))},addListItem:function(e){return g.a.post(f+"addListItem",e)},sendSMS:function(e){return g.a.post(f+"sendSMS",e)},deleteListItem:function(e,t){return g.a.delete(f+"deleteListItem/".concat(e,"/").concat(t))},updateListItem:function(e,t,a){return g.a.put(f+"updateListItem/".concat(e,"/").concat(t),a)},updateListItemOrder:function(e,t){return g.a.put(f+"updateListItemOrder/".concat(e),t)},updateListItemValue:function(e,t,a){return g.a.put(f+"updateListItemValue/".concat(e,"/").concat(t),a)},loginUser:function(e){return g.a.post("/api/auth/login",e)},registerUser:function(e){return g.a.post("/api/auth/register",e)},validateUser:function(){return g.a.post("/api/auth/validate")},getAllUserLists:function(e){return g.a.get(f+"getAllUserLists/"+e)},addList:function(e){return g.a.post(f+"addList/",e)},deleteList:function(e){return g.a.delete(f+"deleteList/"+e)}},b=a(71),E=a.n(b),L=a(72),w=a(19),O=a(39),I=a(16),N=a(20),j=a.n(N),y=a(33),C=a.n(y),x=a(111),k=a.n(x),M=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={date:new Date,message:""},a.componentDidMount=function(){a.setState({message:a.props.data.value}),console.log(a.props.data)},a.handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.changeDateTimePicker=function(e){return a.setState({date:e})},a.sendTextReminder=function(e){e.preventDefault();var t=a.state,n=t.message,s=t.date,o=s.toString().slice(16,21),l=s.toISOString().slice(0,10),r=Object(I.a)(Object(I.a)(a));v.sendSMS({message:n,date:s,sendTime:o,sendDate:l}).then(function(e){console.log(e),r.props.closeTextModal()}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){this.props.data;return s.a.createElement(j.a,{show:this.props.showTextModal,onHide:this.props.closeTextModal},s.a.createElement(j.a.Header,null,s.a.createElement(j.a.Title,null,"Set A Text Reminder")),s.a.createElement("form",{onSubmit:this.sendTextReminder},s.a.createElement(j.a.Body,null,s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"message"},"Message"),s.a.createElement("input",{value:this.state.message,name:"message",onChange:this.handleChange,type:"text",className:"form-control",placeholder:"Text Message Body"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"datepicker"},"Date & Time"),s.a.createElement(k.a,{onChange:this.changeDateTimePicker,value:this.state.date})))))),s.a.createElement(j.a.Footer,null,s.a.createElement(C.a,{variant:"secondary",onClick:this.props.closeTextModal},"Cancel"),s.a.createElement(C.a,{variant:"primary",type:"submit"},"Set Reminder"))))}}]),t}(n.Component),S=a(116),T=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).onBlur=function(){a.props.updateListItemValue(a.props.item.id,a.props.item.value)},a.handleChange=function(e){console.log("handleChange");var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.item;return console.log(t),s.a.createElement(O.b,{draggableId:t.id,index:this.props.index},function(a){return s.a.createElement("li",Object.assign({onMouseOver:e.hoverListitem,className:t.completed?"completed":"todo"},a.draggableProps,a.dragHandleProps,{ref:a.innerRef,id:"item-"+t.id}),s.a.createElement(S.a,{value:t.value,onChange:function(a){return e.props.handleItemChange(a,t.id)},name:"value",onBlur:e.onBlur}),s.a.createElement("span",{className:"list-item-btns"},t.completed?null:s.a.createElement("span",{onClick:function(){return e.props.triggerTextModal(t)},className:"text-item"},s.a.createElement("ion-icon",{name:"paper-plane"})),s.a.createElement("span",{onClick:function(){return e.props.deleteListItem(t.id)},className:"delete-item"},s.a.createElement("ion-icon",{name:"trash"})),t.completed?s.a.createElement("span",{onClick:function(){return e.props.updateListItem(t.id,!1)},className:"return-item"},s.a.createElement("ion-icon",{name:"radio-button-off"})):s.a.createElement("span",{onClick:function(){return e.props.updateListItem(t.id,!0)},className:"complete-item"},s.a.createElement("ion-icon",{name:"checkmark-circle-outline"}))))})}}]),t}(n.Component),D=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={listItems:[],itemInput:"",showTextModal:!1,date:new Date,modalData:{},itemOrder:null},a.sortListItems=function(e,t){console.log("sortListItems");var n=[],s=e.split(",").filter(function(e){return e});console.log(t,s,a.props.list),s.forEach(function(e){console.log(e),t.forEach(function(t){console.log(t),t.id===parseInt(e)&&n.push(t)})}),console.log(n),a.setState({listItems:n,itemOrder:s}),console.log(a.state)},a.updateAllListItems=function(){console.log("updateAllListItems");var e=a.props.user.id,t=a.props.list.id;v.getListItems(e,t).then(function(e){return console.log("updated whole list",e.data),e.data}).catch(function(e){console.log(e)})},a.componentDidMount=function(){console.log("componentDidMount"),a.sortListItems(a.props.list.itemOrder,a.props.list.ListItems)},a.shouldComponentUpdate=function(){return a.state.listItems!==a.props.list.listItems||(a.state.itemOrder!==a.props.list.itemOrder||void 0)},a.handleChange=function(e){console.log("handleChange");var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.handleItemChange=function(e,t){console.log("handleItemChange"),a.setState({listItems:a.state.listItems.map(function(a){return a.id===t?Object(L.a)({},a,{value:e.target.value}):a})})},a.updateListItemValue=function(e,t){console.log("updateListItemValue"),v.updateListItemValue(a.props.list.id,e,{newValue:t}).then(function(e){console.log(e),a.props.getAllUserLists(),a.sortListItems(a.props.list.itemOrder,a.updateAllListItems())}).catch(function(e){console.log(e)})},a.addListItem=function(e){e.preventDefault(),console.log("addListItem"),console.log(a.state.itemOrder);var t=a.state.itemInput;""!==t&&v.addListItem({value:t,ListId:a.props.list.id}).then(function(e){a.state.listItems.push(e.data),a.props.getAllUserLists(),a.state.itemOrder.push("".concat(e.data.id)),a.setState({itemInput:""}),console.log(e),console.log(a.state)}).catch(function(e){console.log(e)})},a.changeDateTimePicker=function(e){return a.setState({date:e})},a.deleteListItem=function(e){console.log("deleteListItem",e),v.deleteListItem(a.props.list.id,e).then(function(t){console.log(t),console.log(a.state.itemOrder.filter(function(t){return console.log(t,e.toString()),t!==e.toString()})),a.setState({listItems:a.state.listItems.filter(function(t){return t.id!==e}),itemOrder:a.state.itemOrder.filter(function(t){return t!==e.toString()})}),a.props.getAllUserLists()}).catch(function(e){console.log(e)})},a.updateListItem=function(e,t){console.log("updateListItem",e),v.updateListItem(a.props.list.id,e,{completed:t}).then(function(n){console.log(n);var s=a.state.listItems.map(function(a){return a.id===e?Object(L.a)({},a,{completed:t}):a});a.setState({}),console.log(s),a.setState({listItems:s}),a.props.getAllUserLists()}).catch(function(e){console.log(e)})},a.arraymove=function(e,t,a){console.log("arraymove");var n=e[t];return e.splice(t,1),e.splice(a,0,n),e},a.closeTextModal=function(){console.log("closeTextModal"),a.setState({showTextModal:!1,modalData:{}})},a.triggerTextModal=function(e){console.log("triggerTextModal"),a.setState({modalData:e,showTextModal:!0})},a.onDragEnd=function(e){console.log("onDragEnd");var t=e.destination,n=e.source;e.draggableId;if(t){var s=a.arraymove(a.state.itemOrder,n.index,t.index),o=s.join(",")+",";console.log(s),console.log(o),v.updateListItemOrder(a.props.list.id,{newItemOrder:o}).then(function(e){console.log(e),a.sortListItems(o,a.state.listItems),console.log(a.state)}).catch(function(e){console.log(e)})}},a.promptDeleteList=function(){console.log("promptDeleteList"),window.confirm("You are about to delete the list: '".concat(a.props.list.title,"'. This cannot be undone."))&&v.deleteList(a.props.list.id).then(function(e){console.log(e),a.props.getAllUserLists()}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;if(!this.state.listItems)return null;var t=this.state.listItems;return console.log("rendering items",this.state),s.a.createElement("div",{className:"list-container"},s.a.createElement("div",{className:" mx-auto bg-light box-shadow list-card",id:"list-"+this.props.list.id},s.a.createElement("div",{className:"row px-4 pt-4"},s.a.createElement("div",{className:"position-relative w-100 text-center"},s.a.createElement("h3",{className:"mx-auto mb-4"},this.props.list.title),s.a.createElement("small",{onClick:this.promptDeleteList,className:"delete-list text-muted"},s.a.createElement("ion-icon",{name:"close"}))),s.a.createElement("form",{className:"col-12 bg-primary p-3 round box-shadow"},s.a.createElement("input",{type:"text",name:"itemInput",onChange:this.handleChange,value:this.state.itemInput,placeholder:"Is this effective?",id:"addListItem"}),s.a.createElement("button",{onClick:this.addListItem,id:"add-item-btn"},s.a.createElement("ion-icon",{name:"add"})))),s.a.createElement(O.a,{onDragEnd:this.onDragEnd},s.a.createElement("div",{className:"row p-4"},s.a.createElement(O.c,{droppableId:"todo-list"},function(a){return s.a.createElement("ul",Object.assign({className:"list",ref:a.innerRef},a.droppableProps,a.droppablePlaceholder),t.map(function(t,a){return s.a.createElement(T,{draggableId:t.id,index:a,triggerTextModal:e.triggerTextModal,deleteListItem:e.deleteListItem,updateListItem:e.updateListItem,item:t,updateListItemValue:e.updateListItemValue,handleItemChange:e.handleItemChange})}),a.placeholder)})))),this.state.showTextModal?s.a.createElement(M,{data:this.state.modalData,showTextModal:this.state.showTextModal,closeTextModal:this.closeTextModal}):null)}}]),t}(n.Component),A=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={title:""},a.componentDidMount=function(){a.setState({title:""})},a.handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.addList=function(e){e.preventDefault();var t=a.state.title,n=Object(I.a)(Object(I.a)(a));v.addList({title:t}).then(function(e){console.log(e),n.props.closeListModal(),n.props.getAllUserLists()}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(j.a,{show:this.props.showListModal,onHide:this.props.closeListModal},s.a.createElement(j.a.Header,null,s.a.createElement(j.a.Title,null,"Create a New List")),s.a.createElement("form",{onSubmit:this.addList},s.a.createElement(j.a.Body,null,s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"title"},"Title"),s.a.createElement("input",{value:this.state.title,name:"title",onChange:this.handleChange,type:"text",className:"form-control",placeholder:"List Title"})))))),s.a.createElement(j.a.Footer,null,s.a.createElement(C.a,{variant:"secondary",onClick:this.props.closeListModal},"Cancel"),s.a.createElement(C.a,{variant:"primary",type:"submit"},"Create List"))))}}]),t}(n.Component),U=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={lists:[],showListModal:!1,newListData:{}},a.getAllUserLists=function(){console.log("getAllUserLists"),v.getAllUserLists(a.props.user.id).then(function(e){console.log(e),a.setState({lists:e.data})}).catch(function(e){console.log(e)})},a.componentDidMount=function(){a.getAllUserLists()},a.closeListModal=function(){return a.setState({showListModal:!1})},a.triggerListModal=function(){return a.setState({showListModal:!0})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"lists-grid"},s.a.createElement("div",{className:"lists"},s.a.createElement("div",{onClick:this.triggerListModal,id:"add-list-btn"},s.a.createElement("ion-icon",{name:"add"})),this.state.lists.map(function(t,a){return console.log("mapping list items"),s.a.createElement(D,{list:t,key:a,user:e.props.user,getAllUserLists:e.getAllUserLists})}),this.state.showListModal?s.a.createElement(A,{getAllUserLists:this.getAllUserLists,showListModal:this.state.showListModal,closeListModal:this.closeListModal}):null))}}]),t}(n.Component),F=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).logout=function(){localStorage.removeItem("jwtToken"),window.location.reload()},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light box-shadow"},s.a.createElement("a",{className:"navbar-brand",href:"#"},"reList"),s.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},s.a.createElement("ul",{className:"navbar-nav"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("span",{className:"nav-link",href:"#"},E()().format("MMM D, YYYY"))),s.a.createElement("li",{className:"nav-item",id:"logout"},s.a.createElement("a",{className:"nav-link",href:"#",onClick:this.logout},s.a.createElement("ion-icon",{name:"log-out"}))))))}}]),t}(n.Component),P=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.stateData;return s.a.createElement(n.Fragment,null,s.a.createElement("input",{value:t.email,onChange:this.props.handleChange,name:"email",className:"w-100 col-md-12",placeholder:"youremail@example.com",type:"text"}),s.a.createElement("input",{value:t.password,onChange:this.props.handleChange,name:"password",className:"w-100 col-md-12",placeholder:"password",type:"password"}),s.a.createElement("button",{className:"btn btn-primary col-12 py-2",onClick:function(t){return e.props.attemptLogin(t)}},"Login"))}}]),t}(n.Component),R=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.stateData;return s.a.createElement(n.Fragment,null,s.a.createElement("input",{value:t.firstname,onChange:this.props.handleChange,name:"firstName",className:"w-100 col-md-12",placeholder:"First Name",type:"text"}),s.a.createElement("input",{value:t.lastname,onChange:this.props.handleChange,name:"lastName",className:"w-100 col-md-12",placeholder:"Last Name",type:"text"}),s.a.createElement("input",{value:t.email,onChange:this.props.handleChange,name:"email",className:"w-100 col-md-12",placeholder:"Email",type:"text"}),s.a.createElement("input",{value:t.password,onChange:this.props.handleChange,name:"password",className:"w-100 col-md-12",placeholder:"Password",type:"password"}),s.a.createElement("input",{value:t.confirmpassword,onChange:this.props.handleChange,name:"confirmpassword",className:"w-100 col-md-12",placeholder:"Confirm Password",type:"password"}),s.a.createElement("input",{value:t.mobileNumber,onChange:this.props.handleChange,name:"mobileNumber",className:"w-100 col-md-12",placeholder:"Phone Number",type:"tel",pattern:"[0-9]{3} [0-9]{3} [0-9]{4}"}),s.a.createElement("button",{className:"btn btn-primary col-12 py-2",onClick:function(t){return e.props.attemptRegister(t)}},"Signup"))}}]),t}(n.Component),V=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={loading:!1,email:null,password:null,firstName:null,lastName:null,confirmpassword:null,mobileNumber:null,whichForm:"login",reponse:null,async:!1},a.componentDidMount=function(){},a.changeForm=function(e,t){console.log(e,t.currentTarget),a.setState({whichForm:e})},a.handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.attemptRegister=function(e){e.preventDefault(),a.setState({async:!0});var t=a.state,n=t.email,s=t.password,o=t.firstName,l=t.lastName,r=t.mobileNumber;v.registerUser({email:n,password:s,firstName:o,lastName:l,mobileNumber:r}).then(function(e){a.setState({async:!1,response:e.data.message,success:e.data.success}),window.location.reload(),console.log(e)}).catch(function(e){console.log(e)})},a.attemptLogin=function(e){e.preventDefault(),a.setState({async:!0});var t=a.state,n=t.email,s=t.password;v.loginUser({email:n,password:s}).then(function(e){localStorage.setItem("jwtToken",e.data.token),a.setState({async:!1,response:e.data.message,success:e.data.success}),console.log(e,a.state)}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.state.success?s.a.createElement(p.a,{to:"/"}):this.state.loading?null:s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row align-items-center justify-content-center"},s.a.createElement("div",{className:"bg-light col-md-4 col-sm-6 col-12 bg-trans-dark py-4 text-left px-5",id:"login-container"},s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("h3",{className:"",onClick:function(t){return e.changeForm("login",t)}},"Login"),s.a.createElement("h3",{className:"ml-auto text-muted",onClick:function(t){return e.changeForm("signup",t)}},"Signup")),s.a.createElement("form",{className:"row"},"login"===this.state.whichForm?s.a.createElement(P,{stateData:this.state,handleChange:this.handleChange,attemptLogin:this.attemptLogin}):s.a.createElement(n.Fragment,null,s.a.createElement(R,{stateData:this.state,handleChange:this.handleChange,attemptRegister:this.attemptRegister})),this.state.async?s.a.createElement("div",{className:"sk-folding-cube",style:{position:"absolute",bottom:14,right:45}},s.a.createElement("div",{className:"sk-cube1 sk-cube"}),s.a.createElement("div",{className:"sk-cube2 sk-cube"}),s.a.createElement("div",{className:"sk-cube4 sk-cube"}),s.a.createElement("div",{className:"sk-cube3 sk-cube"})):null,this.state.response?s.a.createElement("div",{className:"alert-danger mt-3 w-100 text-center p-2 round"},this.state.response):null))))))}}]),t}(n.Component),B=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={success:!1,login:!1,user:{}},a.componentDidMount=function(){console.log(a.state),console.log(localStorage.getItem("jwtToken")),g.a.defaults.headers.common.Authorization=localStorage.getItem("jwtToken"),v.validateUser().then(function(e){console.log(e),a.setState({user:e.data.user,success:e.data.success}),console.log(e.data.user),g.a.defaults.headers.common.User=JSON.stringify(e.data.user),console.log(g.a.defaults.headers.common)}).catch(function(e){console.log(e),a.setState({login:!0})})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;if(this.state.login)return s.a.createElement(p.a,{to:"/login"});if(this.state.success){var t=this.props.component;return s.a.createElement(d.a,null,s.a.createElement(p.b,{to:this.props.path,render:function(a){return s.a.createElement(t,Object.assign({},a,{user:e.state.user}))}}))}return null}}]),t}(n.Component),H=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(d.a,null,s.a.createElement("div",{className:"App"},s.a.createElement(F,null),s.a.createElement("div",{id:"content"},s.a.createElement(p.d,null,s.a.createElement(p.b,{exact:!0,path:"/login",component:V}),s.a.createElement(B,{path:"/",component:U})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(267),a(268),a(270);l.a.render(s.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[118,1,2]]]);
//# sourceMappingURL=main.45875e12.chunk.js.map